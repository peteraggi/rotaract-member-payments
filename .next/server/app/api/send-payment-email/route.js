"use strict";(()=>{var e={};e.id=3,e.ids=[3],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1212:e=>{e.exports=require("async_hooks")},1282:e=>{e.exports=require("child_process")},4770:e=>{e.exports=require("crypto")},665:e=>{e.exports=require("dns")},7702:e=>{e.exports=require("events")},2048:e=>{e.exports=require("fs")},2615:e=>{e.exports=require("http")},5240:e=>{e.exports=require("https")},8216:e=>{e.exports=require("net")},9801:e=>{e.exports=require("os")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},2452:e=>{e.exports=require("tls")},7360:e=>{e.exports=require("url")},1764:e=>{e.exports=require("util")},1568:e=>{e.exports=require("zlib")},3757:e=>{e.exports=import("prettier/plugins/html")},5747:e=>{e.exports=import("prettier/standalone")},4492:e=>{e.exports=require("node:stream")},1728:(e,r,t)=>{t.a(e,async(e,n)=>{try{t.r(r),t.d(r,{originalPathname:()=>f,patchFetch:()=>d,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>x,staticGenerationAsyncStorage:()=>u});var o=t(3278),i=t(5002),a=t(4877),s=t(5995),l=e([s]);s=(l.then?(await l)():l)[0];let p=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/send-payment-email/route",pathname:"/api/send-payment-email",filename:"route",bundlePath:"app/api/send-payment-email/route"},resolvedPagePath:"D:\\aggi\\projects\\rotaract-member-payments\\app\\api\\send-payment-email\\route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:u,serverHooks:x}=p,f="/api/send-payment-email/route";function d(){return(0,a.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:u})}n()}catch(e){n(e)}})},5995:(e,r,t)=>{t.a(e,async(e,n)=>{try{t.r(r),t.d(r,{POST:()=>s});var o=t(3682),i=t(1309),a=e([o]);async function s(e){try{let r=await e.json();if(!r.email||!r.fullName||!r.transactionId)return i.NextResponse.json({success:!1,error:"Missing required fields"},{status:400});return await (0,o.h)(r.email,r.fullName,r.amountPaid,r.balance,r.totalAmount,r.paymentMethod,r.transactionId),i.NextResponse.json({success:!0})}catch(e){return console.error("Error in payment confirmation route:",e),i.NextResponse.json({success:!1,error:"Failed to send payment confirmation"},{status:500})}}o=(a.then?(await a)():a)[0],n()}catch(e){n(e)}})},9319:(e,r,t)=>{t.a(e,async(e,n)=>{try{t.d(r,{Z:()=>f});var o=t(2051),i=t(6445),a=t(3937),s=t(2398),l=t(4652),d=t(7856),p=t(5021),c=t(1545),u=t(3514),x=t(6897);function f({fullName:r,amountPaid:t,balance:n,totalAmount:f,paymentMethod:R,transactionId:q}){return(0,o.jsxs)(i.V,{children:[o.jsx(a.F,{children:o.jsx(s.Z,{fontFamily:"Roboto",fallbackFontFamily:"Verdana",webFont:{url:"https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2",format:"woff2"},fontWeight:400,fontStyle:"normal"})}),o.jsx(l.M,{children:"Your payment confirmation for REI Conference"}),(0,o.jsxs)(d.$,{style:e,children:[o.jsx(p.X,{style:m,children:o.jsx(c.X,{style:y,children:"Payment Confirmation"})}),(0,o.jsxs)(p.X,{style:h,children:[(0,o.jsxs)(u.x,{style:g,children:["Dear ",r,","]}),o.jsx(u.x,{style:g,children:"Thank you for your payment. Here are your payment details:"}),(0,o.jsxs)(d.$,{style:b,children:[(0,o.jsxs)(p.X,{children:[o.jsx(u.x,{style:j,children:"Amount Paid:"}),(0,o.jsxs)(u.x,{style:v,children:["UGX ",t.toLocaleString()]})]}),(0,o.jsxs)(p.X,{children:[o.jsx(u.x,{style:j,children:"Total Amount:"}),(0,o.jsxs)(u.x,{style:v,children:["UGX ",f.toLocaleString()]})]}),(0,o.jsxs)(p.X,{children:[o.jsx(u.x,{style:j,children:"Balance:"}),(0,o.jsxs)(u.x,{style:v,children:["UGX ",n.toLocaleString()]})]}),(0,o.jsxs)(p.X,{children:[o.jsx(u.x,{style:j,children:"Payment Method:"}),o.jsx(u.x,{style:v,children:R})]}),(0,o.jsxs)(p.X,{children:[o.jsx(u.x,{style:j,children:"Transaction ID:"}),o.jsx(u.x,{style:v,children:q})]})]}),o.jsx(u.x,{style:g,children:"If you have any questions, please contact our support team."}),o.jsx(x.z,{style:w,href:"mailto:support@rei-conference.org",children:"Contact Support"})]}),o.jsx(p.X,{style:O,children:o.jsx(u.x,{style:P,children:"REI Conference 2024"})})]})]})}let e={backgroundColor:"#ffffff",fontFamily:"Roboto, Verdana, sans-serif",padding:"20px",maxWidth:"600px",margin:"0 auto",border:"1px solid #eeeeee",borderRadius:"5px"},m={borderBottom:"1px solid #dddddd",paddingBottom:"15px",marginBottom:"20px"},y={color:"#333333",fontSize:"24px",fontWeight:"bold",margin:"0"},h={padding:"10px 0"},g={fontSize:"16px",lineHeight:"1.5",color:"#333333",margin:"10px 0"},b={margin:"20px 0",padding:"15px",backgroundColor:"#f9f9f9",borderRadius:"5px"},j={fontWeight:"bold",width:"150px",display:"inline-block",margin:"5px 0"},v={display:"inline-block",margin:"5px 0"},w={backgroundColor:"#2563eb",color:"#ffffff",padding:"10px 20px",borderRadius:"5px",textDecoration:"none",display:"inline-block",margin:"15px 0"},O={borderTop:"1px solid #dddddd",marginTop:"20px",paddingTop:"15px"},P={fontSize:"12px",color:"#777777",textAlign:"center"};n()}catch(e){n(e)}})},3682:(e,r,t)=>{t.a(e,async(e,n)=>{try{t.d(r,{h:()=>d});var o=t(6742),i=t(2755),a=t(9319),s=e([a,i]);[a,i]=s.then?(await s)():s;let l=o.createTransport({service:process.env.EMAIL_SERVICE,auth:{user:process.env.EMAIL_USER,pass:process.env.EMAIL_PASSWORD}}),d=async(e,r,t,n,o,s,d)=>{try{let p=await (0,i.sY)((0,a.Z)({fullName:r,amountPaid:t,balance:n,totalAmount:o,paymentMethod:s,transactionId:d})),c={from:`"REI Conference" <${process.env.EMAIL_USER}>`,to:e,subject:"REI Conference Payment Confirmation",html:p};await l.sendMail(c),console.log(`Payment confirmation sent to ${e}`)}catch(e){throw console.error("Error sending payment confirmation email:",e),e}};n()}catch(e){n(e)}})},6897:(e,r,t)=>{t.d(r,{z:()=>g});var n=t(6269),o=t(2051),i=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,c=(e,r,t)=>r in e?i(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,u=(e,r)=>{for(var t in r||(r={}))d.call(r,t)&&c(e,t,r[t]);if(l)for(var t of l(r))p.call(r,t)&&c(e,t,r[t]);return e},x=(e,r)=>a(e,s(r)),f=(e,r)=>{var t={};for(var n in e)d.call(e,n)&&0>r.indexOf(n)&&(t[n]=e[n]);if(null!=e&&l)for(var n of l(e))0>r.indexOf(n)&&p.call(e,n)&&(t[n]=e[n]);return t};function m(e){if(!e)return 0;if("number"==typeof e)return e;let r=/^([\d.]+)(px|em|rem|%)$/.exec(e);if(!r||3!==r.length)return 0;{let e=parseFloat(r[1]);switch(r[2]){case"px":default:return e;case"em":case"rem":return 16*e;case"%":return e/100*600}}}var y=e=>"number"!=typeof e||isNaN(Number(e))?null:3*e/4;function h(e){if(0===e)return[0,0];let r=0,t=()=>r>0?e/r/2:1/0;for(;t()>5;)r++;return[t(),r]}var g=n.forwardRef((e,r)=>{var t,n,i,a,{children:s,style:l,target:d="_blank"}=e,p=f(e,["children","style","target"]);let{pt:c,pr:g,pb:v,pl:w}=function({padding:e="",paddingTop:r,paddingRight:t,paddingBottom:n,paddingLeft:o}){let i=0,a=0,s=0,l=0;if("number"==typeof e)i=e,a=e,s=e,l=e;else{let r=e.split(/\s+/);switch(r.length){case 1:i=m(r[0]),a=m(r[0]),s=m(r[0]),l=m(r[0]);break;case 2:i=m(r[0]),s=m(r[0]),a=m(r[1]),l=m(r[1]);break;case 3:i=m(r[0]),a=m(r[1]),l=m(r[1]),s=m(r[2]);break;case 4:i=m(r[0]),a=m(r[1]),s=m(r[2]),l=m(r[3])}}return{pt:r?m(r):i,pr:t?m(t):a,pb:n?m(n):s,pl:o?m(o):l}}({padding:null==l?void 0:l.padding,paddingLeft:null!=(t=null==l?void 0:l.paddingLeft)?t:null==l?void 0:l.paddingInline,paddingRight:null!=(n=null==l?void 0:l.paddingRight)?n:null==l?void 0:l.paddingInline,paddingTop:null!=(i=null==l?void 0:l.paddingTop)?i:null==l?void 0:l.paddingBlock,paddingBottom:null!=(a=null==l?void 0:l.paddingBottom)?a:null==l?void 0:l.paddingBlock}),O=y(c+v),[P,R]=h(w),[q,$]=h(g);return(0,o.jsxs)("a",x(u({},p),{ref:r,style:b(x(u({},l),{pt:c,pr:g,pb:v,pl:w})),target:d,children:[(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:`<!--[if mso]><i style="mso-font-width:${100*P}%;mso-text-raise:${O}" hidden>${"&#8202;".repeat(R)}</i><![endif]-->`}}),(0,o.jsx)("span",{style:j(v),children:s}),(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:`<!--[if mso]><i style="mso-font-width:${100*q}%" hidden>${"&#8202;".repeat($)}&#8203;</i><![endif]-->`}})]}))});g.displayName="Button";var b=e=>{let r=e||{},{pt:t,pr:n,pb:o,pl:i}=r;return x(u({lineHeight:"100%",textDecoration:"none",display:"inline-block",maxWidth:"100%",msoPaddingAlt:"0px"},f(r,["pt","pr","pb","pl"])),{padding:`${t}px ${n}px ${o}px ${i}px`})},j=e=>({maxWidth:"100%",display:"inline-block",lineHeight:"120%",msoPaddingAlt:"0px",msoTextRaise:y(e||0)})},2398:(e,r,t)=>{t.d(r,{Z:()=>o});var n=t(2051),o=({fontFamily:e,fallbackFontFamily:r,webFont:t,fontStyle:o="normal",fontWeight:i=400})=>{let a=t?`src: url(${t.url}) format('${t.format}');`:"",s=`
    @font-face {
      font-family: '${e}';
      font-style: ${o};
      font-weight: ${i};
      mso-font-alt: '${Array.isArray(r)?r[0]:r}';
      ${a}
    }

    * {
      font-family: '${e}', ${Array.isArray(r)?r.join(", "):r};
    }
  `;return(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:s}})}},5021:(e,r,t)=>{t.d(r,{X:()=>m});var n=t(6269),o=t(2051),i=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,c=(e,r,t)=>r in e?i(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,u=(e,r)=>{for(var t in r||(r={}))d.call(r,t)&&c(e,t,r[t]);if(l)for(var t of l(r))p.call(r,t)&&c(e,t,r[t]);return e},x=(e,r)=>a(e,s(r)),f=(e,r)=>{var t={};for(var n in e)d.call(e,n)&&0>r.indexOf(n)&&(t[n]=e[n]);if(null!=e&&l)for(var n of l(e))0>r.indexOf(n)&&p.call(e,n)&&(t[n]=e[n]);return t},m=n.forwardRef((e,r)=>{var{children:t,style:n}=e,i=f(e,["children","style"]);return(0,o.jsx)("table",x(u({align:"center",width:"100%",border:0,cellPadding:"0",cellSpacing:"0",role:"presentation"},i),{ref:r,style:n,children:(0,o.jsx)("tbody",{style:{width:"100%"},children:(0,o.jsx)("tr",{style:{width:"100%"},children:t})})}))});m.displayName="Row"}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[379,309,140],()=>t(1728));module.exports=n})();